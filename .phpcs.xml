<?xml version="1.0"?>
<ruleset name="SVG Ready Standards">
	<description>
		Coding standards for SVG Ready — modern PHP checks for clean, consistent, and maintainable code.
	</description>

	<!-- ========================= -->
	<!-- ▶ Scan target -->
	<!-- ========================= -->
	<file>./</file>

	<!-- Exclude vendor and build assets -->
	<exclude-pattern>vendor/*</exclude-pattern>
	<exclude-pattern>assets/*</exclude-pattern>
	<exclude-pattern>analytics/*</exclude-pattern>
	<exclude-pattern>node_modules/*</exclude-pattern>

	<!-- ========================= -->
	<!-- ✅ CORE QUALITY RULES -->
	<!-- ========================= -->

	<!-- Base PSR-12 rules -->
	<rule ref="PSR12">
		<exclude name="PSR12.Files.OpenTag.BlankLineAfter" />
		<exclude name="PSR12.Files.FileHeader" />
		<exclude name="Generic.WhiteSpace.DisallowTabIndent" />
		<exclude name="Generic.Files.LineLength" />
	</rule>

	<!-- Code analysis -->
	<rule ref="Generic.CodeAnalysis.EmptyStatement" />
	<rule ref="Generic.CodeAnalysis.UselessOverridingMethod" />
	<rule ref="Generic.CodeAnalysis.UnusedFunctionParameter" />

	<!-- PHP logic & security -->
	<rule ref="Generic.PHP.DeprecatedFunctions" />
	<rule ref="Generic.PHP.NoSilencedErrors" />
	<rule ref="Generic.PHP.LowerCaseConstant" />
	<rule ref="Generic.PHP.RequireStrictTypes" />
	<rule ref="Generic.PHP.ForbiddenFunctions">
		<properties>
			<property name="forbiddenFunctions" type="array">
				<element key="eval" value="null"/>
				<element key="exec" value="null"/>
				<element key="passthru" value="null"/>
				<element key="shell_exec" value="null"/>
				<element key="system" value="null"/>
				<element key="proc_open" value="null"/>
				<element key="popen" value="null"/>
				<element key="curl_exec" value="null"/>
				<element key="curl_multi_exec" value="null"/>
				<element key="parse_ini_file" value="null"/>
				<element key="show_source" value="null"/>
			</property>
		</properties>
	</rule>
	<rule ref="Squiz.PHP.Eval" />
	<rule ref="Squiz.PHP.DiscouragedFunctions" />

	<!-- Formatting -->
	<rule ref="Squiz.Arrays.ArrayDeclaration" />
	<rule ref="Generic.Formatting.DisallowMultipleStatements" />
	<rule ref="Generic.Arrays.DisallowLongArraySyntax" />
	<rule ref="Generic.Formatting.SpaceAfterNot" />
	<rule ref="Squiz.WhiteSpace.FunctionSpacing">
		<properties>
			<property name="spacing" value="1" />
			<property name="spacingBeforeFirst" value="0" />
			<property name="spacingAfterLast" value="0" />
		</properties>
	</rule>
	<rule ref="Squiz.WhiteSpace.OperatorSpacing" />
	<rule ref="Squiz.WhiteSpace.ScopeClosingBrace" />
	<rule ref="Squiz.WhiteSpace.SuperfluousWhitespace" />
	<rule ref="Generic.WhiteSpace.ScopeIndent">
		<properties>
			<property name="indent" value="4" />
			<property name="tabIndent" value="true" />
		</properties>
	</rule>

	<!-- Enforce aligning adjacent assignment operators (e.g. "=") -->
	<rule ref="Generic.Formatting.MultipleStatementAlignment">
		<properties>
			<property name="alignAtEnd" value="false" />
			<property name="error" value="true" />
			<property name="maxPadding" value="50" />
		</properties>
	</rule>

	<!-- Comments & documentation -->
	<rule ref="PEAR.Commenting.FileComment">
		<severity>0</severity>
	</rule>
	<rule ref="Squiz.PHP.CommentedOutCode" />
	<rule ref="Squiz.Commenting.InlineComment" />
	<rule ref="Generic.Commenting.DocComment" />
	<rule ref="Squiz.Commenting.FunctionCommentThrowTag" />

	<!-- Naming & structure -->
	<rule ref="Generic.NamingConventions.UpperCaseConstantName" />
	<rule ref="Squiz.Classes.ValidClassName" />
	<rule ref="Generic.Files.OneClassPerFile" />
	<rule ref="Generic.Files.OneInterfacePerFile" />

	<!-- Prevent PHP side effects -->
	<rule ref="PSR1.Files.SideEffects" />

	<!-- ========================= -->
	<!-- ⚙️ CONFIGURATION -->
	<!-- ========================= -->
	<config name="tab_width" value="4" />
	<arg name="encoding" value="utf-8" />
	<arg name="extensions" value="php" />
	<arg name="colors" />
	<arg name="severity" value="5" />
</ruleset>
